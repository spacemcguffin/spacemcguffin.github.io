<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>About ‚Äî MSN Chat</title>

<style>
:root{
  --title1:#2f5fb8;
  --title2:#1f4ea4;
  --frame:#8aa4d6;
  --border:#c9d6ef;
  --bg:#e9eef7;
  --panel:#ffffff;

  --me:#0b57d0;
  --them:#0f7b2b;
  --sys:#7a2ea8;

  --online:#24c26a;
  --busy:#e53935;
  --away:#f6a100;
  --offline:#9aa7bd;

  --font:"Tahoma","Segoe UI",system-ui,sans-serif;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--font);
  background:linear-gradient(#d7e3ff,#f3f6ff);
  display:grid;
  place-items:center;
  padding:12px;
}

/* Window */
.msn{
  width:min(900px,100%);
  height:min(90vh,760px);
  background:var(--bg);
  border:1px solid var(--frame);
  border-radius:12px;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  box-shadow:0 18px 50px rgba(0,0,0,.18);
}

/* Titlebar */
.titlebar{
  height:38px;
  background:linear-gradient(var(--title1),var(--title2));
  color:#fff;
  display:flex;
  align-items:center;
  padding:0 12px;
  font-size:13px;
  flex:0 0 auto;
}

/* Toolbar */
.toolbar{
  display:flex;
  align-items:center;
  gap:12px;
  padding:8px 12px;
  background:#f5f8ff;
  border-bottom:1px solid var(--border);
  flex:0 0 auto;
}

.statusWrap{
  display:flex;
  align-items:center;
  gap:6px;
  background:#fff;
  border:1px solid var(--border);
  padding:4px 8px;
  border-radius:999px;
}

.dot{
  width:9px;height:9px;border-radius:50%;
  background:var(--online);
  box-shadow:0 0 0 2px rgba(36,194,106,.2);
}

.statusSel{
  border:0;
  outline:0;
  background:transparent;
  font-family:var(--font);
  font-size:12px;
  cursor:pointer;
}

/* Chat */
.chat{
  display:flex;
  flex-direction:column;
  flex:1 1 auto;
  min-height:0;
  background:var(--panel);
}

.chatHeader{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-bottom:1px solid var(--border);
  background:linear-gradient(#fff,#eef4ff);
  flex:0 0 auto;
}

.dp{
  width:32px;height:32px;border-radius:8px;
  background:linear-gradient(135deg,#ffd7e8,#d7e9ff);
  border:1px solid rgba(0,0,0,.15);
}

.log{
  flex:1 1 auto;
  min-height:0;
  overflow:auto;
  padding:12px;
  font-size:13px;
  line-height:1.4;
}

/* MSN style transcript */
.line{margin:6px 0;}
.name{font-weight:700;}
.name.me{color:var(--me);}
.name.them{color:var(--them);}
.name.sys{color:var(--sys);}
.time{opacity:.6;font-size:12px;margin-left:6px;}
.say{opacity:.8;}
.msg{color:#0b1020;}
.sysMsg{color:#666;}

.linky{color:#0b57d0;text-decoration:underline;}

.em{
  display:inline-grid;
  place-items:center;
  width:18px;height:18px;
  border-radius:5px;
  background:#fff;
  border:1px solid rgba(0,0,0,.15);
  font-size:12px;
  margin:0 1px;
  vertical-align:-3px;
}

/* Typing */
.typing{display:none;font-size:12px;color:#666;margin-top:4px;}
.typing.on{display:block;}

/* Composer */
.composer{
  border-top:1px solid var(--border);
  background:#f9fbff;
  padding:10px;
  display:grid;
  grid-template-columns:1fr auto;
  gap:10px;
  flex:0 0 auto;
}

textarea{
  width:100%;
  border:1px solid var(--border);
  border-radius:10px;
  padding:8px;
  resize:none;
  height:55px;
  font-family:var(--font);
}

.send{
  border:1px solid var(--border);
  border-radius:10px;
  padding:0 14px;
  cursor:pointer;
  background:#fff;
}

.controls{
  margin-top:6px;
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  font-size:12px;
}

/* Mobile */
@media (max-width:700px){
  body{padding:8px;place-items:stretch;}
  .msn{
    width:100%;
    height:calc(100dvh - 16px);
    border-radius:10px;
  }
}
</style>
</head>

<body>

<div class="msn" id="app">
  <div class="titlebar">About this site ‚Äî Windows Live Messenger</div>

  <div class="toolbar">
    <div class="statusWrap">
      <span class="dot" id="statusDot"></span>
      <select class="statusSel" id="statusSel">
        <option value="available">Available</option>
        <option value="busy">Busy</option>
        <option value="away">Away</option>
        <option value="offline">Offline</option>
      </select>
    </div>
    <button onclick="nudge()">Nudge</button>
    <span style="margin-left:auto;font-size:12px;">Only 4 links allowed.</span>
  </div>

  <div class="chat">
    <div class="chatHeader">
      <div class="dp"></div>
      <strong>Conversation with The Website</strong>
    </div>

    <div class="log" id="log">
      <div class="line">
        <span class="name sys">System</span>
        <span class="time">(00:01)</span> says:
        <span class="sysMsg">You are now viewing the About log.</span>
      </div>

      <div class="line">
        <span class="name them">The Website</span>
        <span class="time">(00:02)</span> says:
        <span class="msg">
          four portals only:<br>
          ‚Ä¢ <a class="linky" href="https://lewis.lc/diary">lewis.lc/diary</a><br>
          ‚Ä¢ <a class="linky" href="https://lewis.lc/myspace">lewis.lc/myspace</a><br>
          ‚Ä¢ <a class="linky" href="https://lewis.lc/livejournal">lewis.lc/livejournal</a><br>
          ‚Ä¢ <a class="linky" href="https://lewis.lc/retro">lewis.lc/retro</a>
        </span>
      </div>

      <div class="typing" id="typing">The Website is typing‚Ä¶</div>
    </div>

    <form class="composer" id="form">
      <div>
        <textarea id="input" placeholder="Type a message..."></textarea>
        <div class="controls">
          <label>Font colour:</label>
          <input type="color" id="color" value="#0b57d0">
          <span>Emotes: :) :D ;) :( <3</span>
        </div>
      </div>
      <button class="send">Send</button>
    </form>
  </div>
</div>

<script>
const LINKS = [
  "https://lewis.lc/diary",
  "https://lewis.lc/myspace",
  "https://lewis.lc/livejournal",
  "https://lewis.lc/retro"
];

const log = document.getElementById("log");
const form = document.getElementById("form");
const input = document.getElementById("input");
const typing = document.getElementById("typing");
const colorPicker = document.getElementById("color");

function timeNow(){
  const d=new Date();
  return d.getHours().toString().padStart(2,"0")+":"+d.getMinutes().toString().padStart(2,"0");
}

function emotes(text){
  return text
    .replace(/:\)/g,'<span class="em">üôÇ</span>')
    .replace(/:D/g,'<span class="em">üòÑ</span>')
    .replace(/;\)/g,'<span class="em">üòâ</span>')
    .replace(/:\(/g,'<span class="em">üôÅ</span>')
    .replace(/<3/g,'<span class="em">‚ù§Ô∏è</span>');
}

function sanitize(text){
  let escaped=text.replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#039;"}[m]));
  return emotes(escaped);
}

function addLine(who,html){
  const div=document.createElement("div");
  div.className="line";
  const nameClass = who==="me"?"me":"them";
  div.innerHTML=`
    <span class="name ${nameClass}" style="color:${who==="me"?colorPicker.value:""}">
      ${who==="me"?"Lewis":"The Website"}
    </span>
    <span class="time">(${timeNow()})</span> says:
    <span class="msg" style="color:${who==="me"?colorPicker.value:""}">${html}</span>
  `;
  log.insertBefore(div,typing);
  log.scrollTop=log.scrollHeight;
}

form.addEventListener("submit",e=>{
  e.preventDefault();
  const text=input.value.trim();
  if(!text) return;
  addLine("me",sanitize(text));
  input.value="";
  typing.classList.add("on");
  setTimeout(()=>{
    typing.classList.remove("on");
    addLine("them","Try typing 'diary' or '/tour'.");
  },600);
});

function nudge(){
  const app=document.getElementById("app");
  app.style.animation="nudge .4s";
  setTimeout(()=>app.style.animation="",400);
}
</script>

</body>
</html>
